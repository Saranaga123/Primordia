<div class="fight-container">

  <!-- Top: Enemy / Player cards -->
  <div class="fight-players">
    <!-- Player Side -->
    <div class="player-side cards-wrapper">
      <app-worm class="card-wrapper"
        [name]="player.name"
        [level]="player.level"
        [attack]="player.attack"
        [defense]="player.defense"
        [imageUrl]="player.imageUrl"
        (cardSelected)="onCardClicked($event)">
      </app-worm>
      <p class="hp-text">Defense: {{ displayedPlayerHP | number:'1.0-0' }} / {{ player.defense }}</p>
      <div class="hp-bar">
        <div class="hp-fill" [style.width.%]="(displayedPlayerHP / player.defense) * 100"></div>
      </div>
    </div>

    <!-- VS Label -->
    <div class="vs-label">VS</div>

    <!-- Enemy Side -->
    <div class="enemy-side cards-wrapper">
      <app-radiant-butterfly class="card-wrapper"
        [name]="enemy.name"
        [level]="enemy.level"
        [attack]="enemy.attack"
        [defense]="enemy.defense"
        [imageUrl]="enemy.imageUrl"
        (cardSelected)="onCardClicked($event)">
      </app-radiant-butterfly>
      <p class="hp-text">Defense: {{ displayedHP | number:'1.0-0' }} / {{ enemy.defense }}</p>
      <div class="hp-bar">
        <div class="hp-fill" [style.width.%]="(displayedHP / enemy.defense) * 100"></div>
      </div>
    </div>
  </div>

  <!-- Arena / Spell Casting -->
  <div class="arena">
    <app-target
      [targetSize]="80"
      [spawnInterval]="1000"
      [gameDuration]="9000"
      [targetImage]="'assets/targets/1.png'"
      [backgroundImage]="'assets/backgrounds/purple1.jpg'"
      [hitSound]="'assets/Sounds/spell2.wav'"
      [successSound]="'assets/Sounds/spellfire.wav'"
      [failSound]="'assets/Sounds/spellfail.wav'"
      [requiredHits]="7"
      (gameOver)="onGameOver($event)">
    </app-target>
  </div>

  <!-- Fight Log -->
  <div class="fight-log">
    <h3>Battle Log</h3>
    <ul>
      <li *ngFor="let entry of fightLog">{{ entry }}</li>
    </ul>
  </div>

</div>
